{"is_source_file": true, "format": "Python", "description": "This file defines API routes for authentication operations including signup, login, and token refresh, using FastAPI, SQLAlchemy, and custom security functions.", "external_files": ["src.auth", "src.db", "src.models", "src.schemas", "src.security"], "external_methods": ["create_access_token", "create_refresh_token", "verify_refresh_token", "get_db", "hash_password", "verify_password"], "published": ["router"], "classes": [], "methods": [{"name": "Message signup(payload: SignupRequest, db: Session = Depends(get_db))", "description": "Creates a new user account with a unique email.", "scope": "", "scopeKind": ""}, {"name": "TokenResponse login(payload: LoginRequest, db: Session = Depends(get_db))", "description": "Authenticates a user and returns access and refresh tokens.", "scope": "", "scopeKind": ""}, {"name": "TokenResponse refresh(payload: RefreshRequest, db: Session = Depends(get_db))", "description": "Refreshes JWT tokens using a valid refresh token.", "scope": "", "scopeKind": ""}], "calls": ["select(User).where(User.email == payload.email)", "db.scalar", "hash_password(payload.password)", "create_access_token(user.id)", "create_refresh_token(user.id)", "verify_password(payload.password, user.password_hash)", "verify_refresh_token(payload.refresh_token)", "db.get(User, user_id)"], "search-terms": ["FastAPI auth routes", "JWT token management", "User signup login refresh", "SQLAlchemy session", "auth dependency injection"], "state": 2, "file_id": 10, "knowledge_revision": 23, "git_revision": "5e5bea7d2f2bb025eed56f31b33e85ff1c42c74f", "ctags": [{"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/secure-notes-application-190641-190650/notes_backend/src/api/auth_routes.py", "pattern": "/^def login(payload: LoginRequest, db: Session = Depends(get_db)) -> TokenResponse:$/", "language": "Python", "typeref": "typename:TokenResponse", "kind": "function", "signature": "(payload: LoginRequest, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "refresh", "path": "/home/kavia/workspace/code-generation/secure-notes-application-190641-190650/notes_backend/src/api/auth_routes.py", "pattern": "/^def refresh(payload: RefreshRequest, db: Session = Depends(get_db)) -> TokenResponse:$/", "language": "Python", "typeref": "typename:TokenResponse", "kind": "function", "signature": "(payload: RefreshRequest, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/secure-notes-application-190641-190650/notes_backend/src/api/auth_routes.py", "pattern": "/^router = APIRouter(prefix=\"\\/auth\", tags=[\"auth\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "signup", "path": "/home/kavia/workspace/code-generation/secure-notes-application-190641-190650/notes_backend/src/api/auth_routes.py", "pattern": "/^def signup(payload: SignupRequest, db: Session = Depends(get_db)) -> Message:$/", "language": "Python", "typeref": "typename:Message", "kind": "function", "signature": "(payload: SignupRequest, db: Session = Depends(get_db))"}], "hash": "efb30e5a518d7346eea5e62f0166f82b", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/api/auth_routes.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/auth\", tags=[\"auth\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"23": "5e5bea7d2f2bb025eed56f31b33e85ff1c42c74f"}]}